## 问题概述
- 打开开发地址直接进入 `/home` 且页面空白。
- 期望未登录默认进入登录页(`/login`)；同时控制台出现 `TypeError: Cannot read properties of undefined (reading 'length')`，来源于体质测评页。

## 根因分析
- 布局未渲染子路由：`AppLayout.vue` 主内容区用的是 `<slot />`，嵌套路由需要 `<router-view />` 才能显示子页面，导致 `/home` 等子路由内容为空白。位置：`FrontEnd/src/components/Layout/AppLayout.vue:61`。
- 路由默认跳转：`src/router/index.js` 在父路由下设置了 `'' -> /home` 的重定向（`FrontEnd/src/router/index.js:16-19`），因此访问根路径会跳到 `/home`。按照规范，应当在未登录时进入 `/login`。
- 控制台错误来自体质测评页：模板中存在对 `schema.steps.length` 的直接访问，未判空时会在加载前渲染触发错误。参考：`FrontEnd/src/views/Assessment/index.vue`。

## 变更方案
### 1) 修复空白页：布局承载子路由
- 将布局主内容区替换为 `<router-view />`。
- 变更：
```vue
<!-- FrontEnd/src/components/Layout/AppLayout.vue -->
<el-main class="main">
  <router-view />
</el-main>
```

### 2) 符合“未登录默认进入登录页”的路由守卫
- 保留现有的 token 检查逻辑；补充对根路径的默认跳转，未登录进入 `/login`，已登录进入 `/home`。
- 变更：
```js
// FrontEnd/src/router/index.js
router.beforeEach((to, from, next) => {
  document.title = to.meta.title ? `${to.meta.title}｜健康家庭` : '健康家庭'
  const token = localStorage.getItem('access_token')

  if (to.path === '/') {
    next(token ? '/home' : '/login')
    return
  }
  if (!to.meta.public && !token) {
    next({ path: '/login', query: { redirect: to.fullPath } })
    return
  }
  next()
})
```
- 说明：这与规范中的“路由守卫：检查 token，未登录跳转 /login”（`/d:/WorkBS/.trae/rules/project_rules.md:67-70`）一致。

### 3) 修复体质测评页未判空导致的渲染错误
- 在模板中谨慎访问 `schema.steps` 和其 `length`，增加判空条件；避免在数据未加载完成时渲染出现报错。
- 变更示例：
```vue
<!-- FrontEnd/src/views/Assessment/index.vue -->
<el-card v-if="!schema">
  <el-empty description="暂无测评问卷" />
</el-card>
<el-card v-else>
  <el-steps v-if="schema && schema.steps" :active="currentStep" finish-status="success" align-center>
    <el-step v-for="(step, idx) in schema.steps" :key="idx" :title="step.title" />
  </el-steps>

  <div v-if="schema && schema.steps && currentStep < schema.steps.length" class="question-area">
    <!-- 问题区 -->
  </div>

  <div v-else-if="schema && schema.steps && currentStep >= schema.steps.length && !result">
    <!-- 提交按钮与历史按钮区 -->
  </div>
</el-card>
```
- 脚本中保留现有异步加载逻辑；该改动仅确保未加载完成前不会访问未定义的属性。

## 验证步骤
- 清空 `localStorage.access_token` 后访问 `http://localhost:5173/` 应进入 `/login` 并显示登录页。
- 登录后跳转 `/home`，首页卡片正常渲染，不再空白。
- 访问 `/assessments`，在问卷数据未加载时不再报 `length` 错误，数据加载后正常显示流程与图表。

## 影响面与兼容性
- 不改动后端；前端改动符合 Vue3 + Router4 规范。
- 布局与守卫逻辑仅优化默认行为，生产环境与已登录逻辑不受影响。

请确认以上方案，确认后我将一次性完成改动并进行本地验证。